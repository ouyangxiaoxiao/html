<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<a href="javascript:;" onclick="AddFavorite(window.location.href,'加入收藏');">加入收藏</a>
<script>
    function setHomepage(){
    if (document.all){
        document.body.style.behavior='url(#default#homepage)';
        document.body.setHomePage(window.location.href);
    }else if (window.sidebar){
        if(window.netscape){
              try{
                   netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
              }catch (e){
                   alert( "该操作被浏览器拒绝！\n如果想启用该功能，请在地址栏内输入 about:config,\n然后将项 signed.applets.codebase_principal_support 值该为true" );
              }
         }
         var prefs = Components.classes['@mozilla.org/preferences-service;1'].getService(Components. interfaces.nsIPrefBranch);
         prefs.setCharPref('browser.startup.homepage',window.location.href);
    }else{
         alert('您的浏览器不支持自动自动设置首页, 请使用浏览器菜单手动设置!');
    }
}
</script>
</body>
</html>