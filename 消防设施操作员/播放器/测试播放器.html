<!DOCTYPE html>
<html lang="en">
<head>
    <!--编码格式-->
    <meta charset="UTF-8">
    <!--禁止用户缩放 最大缩放倍数 最小缩放倍数-->
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0 user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <!--设置外链跳转域-->
    <meta name="referrer" content="no-referrer"/>
    <title>测试播放器</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
            *{
                margin: 0;
                padding: 0;
            }
        .bofangqi {
            max-width: 640px;
            min-width: 320px;
            width: 100%;
            /*height: 600px;*/
            background-color: blue;
            position: fixed;
            /*top: 0;*/
            z-index: 10;
        }

        video {
            width: 100%;
            max-width: 640px;
            min-width: 320px;
            /*width: 400px;*/
            /*height: 300px;*/
            background-color: pink;
            /*position: fixed;*/
            /*top: 0;*/
            /*z-index: 10;*/
        }

        .cheng {
            margin: 0;
            padding: 0;
            width: 400px;
            height: 3000px;
            background-color: red;
        }

        .zhezhaoceng {

            display: none;
            /*top: 0;*/
            position: fixed;
            width: 400px;
            height: 3000px;
            background-color: skyblue;
            z-index: 15;
        }
    </style>
</head>
<body>
<div class="bofangqi">
    <video src="" autoplay controls ></video>
</div>
<!--<div class="zhezhaoceng">123</div>-->
<div class="cheng">123</div>
<button id="btn1">上一曲</button>
<button id="btn2">下一曲</button>
<ul>
    <!--        <li value="	https://vv.taozhi.online/14f8fcfe8d2a4e9585c9bc822cc6e7f7/36e368b0f3814e76baba29b4f4e06b3e-a1551e2578647377b65c5092a1da7f22-ld.mp4	"><span>	PS01-神奇的倒车雷达	</span><span>	小学科学课	</span><span>	小学	五年级	兴趣爱好	</span></li>-->
    <!--        <li value="	https://ouyangxiaoxiao.github.io/xiaofangshipin/	初级精讲	/	消防设施巡检二	.mp4	"><span>	8. 培训模块一：项目1消防设施巡检-防火门、防火卷帘巡查	</span><span>	消防设施操作员	</span><span>	初级精讲	</span></li>-->

    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/qcaqjfwdljyo574.mp4"><span>1. 培训模块一：项目1消防设施巡检-火灾报警控制器识别</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="h2ttps://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/v2mjcj0hi0r2771.mp4"><span>2. 培训模块一：项目1消防设施巡检-火灾报警控制器工作状态判断</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/p378m1n2akir39n.mp4"><span>3. 培训模块一：项目1消防设施巡检-火灾报警控制器电源工作状态判断</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/2csluxfcl47zok6.mp4"><span>4. 培训模块一：项目1消防设施巡检-火灾报警控制器自检</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/2g6oj2qfxs8msd6.mp4"><span>5. 培训模块一：项目1消防设施巡检-灭火器的有效性检查</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/9c90383zo89thmx.mp4"><span>6. 培训模块一：项目1消防设施巡检-消防自救呼吸器检查</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/b0cty6aj1p7etpg.mp4"><span>7. 培训模块一：项目1消防设施巡检-消防水池、高位消防水箱检查</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/c41bw9huu0twss1.mp4"><span>8. 培训模块一：项目1消防设施巡检-防火门、防火卷帘巡查</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/vlj4o4e9vhyfrfq.mp4"><span>9. 培训模块一：项目1消防设施巡检-消防供水管道阀门检查</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/fcau8x2ol9b53kc.mp4"><span>10. 培训模块一：项目2报警信息处置-报警信号判断</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/lve2db518kd1sqz.mp4"><span>11. 培训模块一：项目2报警信息处置-报警信息查询</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/jc3wv2cspaxxm6d.mp4"><span>12. 培训模块一：项目2报警信息处置-报警信息核实、处理、报告</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/378oojlrfta1ab1.mp4"><span>13. 培训模块二：项目1火灾自动报警系统操作-火灾报警控制器工作状态切换</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/lgxicacys6wudfc.mp4"><span>14. 培训模块二：项目1火灾自动报警系统操作-火灾探测器测试</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/2kb9fnmr9zj3zih.mp4"><span>15. 培训模块二：项目1火灾自动报警系统操作-手动火灾报警按钮测试</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/eif8nux7c9xv2zq.mp4"><span>16. 培训模块二：项目1火灾自动报警系统操作-火灾报警控制器消音与复位</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/dcwkvyznp5s2j1j.mp4"><span>17. 培训模块二：项目1火灾自动报警系统操作-火灾警报装置启动</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/culku50y4s7v5wy.mp4"><span>18. 培训模块二：项目2其他消防设施操作-室外消火栓操作</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/6junmqf6zu6qm5r.mp4"><span>19. 培训模块二：项目2其他消防设施操作-室内消火栓操作</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/4kd6akn9vysupsn.mp4"><span>20. 培训模块二：项目2其他消防设施操作-轻便消防水龙操作</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/u0xpd12ehurj8gp.mp4"><span>21. 培训模块二：项目2其他消防设施操作-消防水泵组操作</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/ggehm85ed78am8r.mp4"><span>22. 培训模块二：项目2其他消防设施操作-灭火器的选择与操作</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/661c69aftebpsg0.mp4"><span>23. 培训模块二：项目2其他消防设施操作-消防自救呼吸器操作</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/9dtvqqbismlcxb4.mp4"><span>24. 培训模块三：项目1火灾自动报警系统保养-区域型火灾报警控制器保养</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/nn9rycy8dy5usjd.mp4"><span>25. 培训模块三：项目1火灾自动报警系统保养-区域型火灾报警控制器打印纸更换</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/azi8beof72oupzi.mp4"><span>26. 培训模块三：项目1火灾自动报警系统保养-常见火灾触发器件与火灾警报装置保养</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/n0594vreqblxuyc.mp4"><span>27. 培训模块三：项目1火灾自动报警系统保养-区域型火灾报警控制器熔断器更换</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/eekiert0wuidzyc.mp4"><span>28. 培训模块三：项目2其他消防设施保养-消防应急灯具保养</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/9tbcw8e4nhwlmgf.mp4"><span>29. 培训模块三：项目2其他消防设施保养-防火门保养</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/d9qy14juv9p1wuq.mp4"><span>30. 培训模块三：项目2其他消防设施保养-防火卷帘保养</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/6aw8hhdh4bx5saa.mp4"><span>31. 培训模块三：项目2其他消防设施保养-消火栓系统保养</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/n418brx7w9bzrnh.mp4"><span>32. 培训模块三：项目2其他消防设施保养-消防水泵接合器保养</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/jq52oro96ft7llp.mp4"><span>33. 培训模块三：项目2其他消防设施保养-消防水池、高位消防水箱保养</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
    <li value="https://ouyangxiaoxiao.github.io/xiaofangshipin/五级(初级)实操/4lo5wu2xg4i7aqw.mp4"><span>34. 培训模块三：项目2其他消防设施保养-灭火器保养</span><span>消防设施操作员</span><span>五级(初级)实操</span>
    </li>
</ul>
</body>
<script>
    var list = document.querySelectorAll("li");
    console.log(list.length);
    var video = document.querySelector("video");
    var btn1 = document.querySelector("#btn1");
    var btn2 = document.querySelector("#btn2");

    nub = video.getAttribute("index");

    /*绑定点击事件，顺便添加 index*/
    for (i = 0; i < list.length; i++) {
        list[i].setAttribute("index", i);

        /*点击播放*/
        list[i].onclick = function () {
            video.setAttribute("src", this.getAttribute("value"));
            video.setAttribute("index", this.getAttribute("index"));
        };

    }
    // /*默认播放*/
    video.setAttribute("src", list[0].getAttribute("value"));
    video.setAttribute("index", list[0].getAttribute("index"));

    /*顺序播放*/
    video.addEventListener("ended", function () {
        if (nub == list.length - 1) {
            nub = 0;
        } else {
            console.log("播放完毕了");
            nub += 1;
        }
        video.setAttribute("src", list[nub].getAttribute("value"));
        video.setAttribute("index", list[nub].getAttribute("index"));

    });

    /*上一曲下一曲*/
    btn1.onclick = function () {
        // alert("点击了上一曲");
        if (video.getAttribute("index") == 0) {
            nub = list.length - 1;
        } else {
            nub -= 1;
        }
        // console.log(nub);
        video.setAttribute("src", list[nub].getAttribute("value"));
        video.setAttribute("index", list[nub].getAttribute("index"));
    };

    btn2.onclick = function () {
        if (video.getAttribute("index") == list.length - 1) {
            nub = 0;
        } else {
            nub += 1;
        }
        video.setAttribute("src", list[nub].getAttribute("value"));
        video.setAttribute("index", list[nub].getAttribute("index"));

    };
    video.onemptied = function () {
        alert("出错");
        // video.pause();
        zhezhaoceng.style.display = "block"
    }

</script>

<script>
    video = document.querySelector("video");
    bofangqi = document.querySelector(".bofangqi");
    cheng = document.querySelector(".cheng");
    zhezhaoceng = document.querySelector(".zhezhaoceng");
    console.log(video.scrollHeight);
    console.log(video.scrollTop);
    cheng.style.height = video.scrollHeight + 50+"px";
    zhezhaoceng.style.height = video.scrollHeight + "px";
    bofangqi.style.height = video.scrollHeight + "px";
</script>
</html>